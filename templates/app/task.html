{% extends "base.html" %}
{% block css %}

    <style type="text/css" xmlns="http://www.w3.org/1999/html">
        li {
            list-style: none;
        }


        #newTask {
            width: 620px;
            border: #cccccc 1px solid;
            padding: 10px;
            background-color: #eeeeee;
            position: absolute;
            left:50%;
            margin:0 0 0 -300px;
            display: none;
            text-align: left;
            z-index: 10001;
        }

        #newTask li {
            padding: 2px;
        }

        #newTask label {
            width: 100px;
            display: inline-block;
            *display: inline;
            *zoom: 1;
        }


        #btnAddTask {
            width:150px;height:30px;background-color: #eee;
            border:0;
            font-size: 13px;
            float: right;
        }

        .data_list {
            border-collapse: collapse;
        }

        .data_list th {
            border: #ccc 1px solid;
            background-color: #eee;
        }

        .data_list td {
            border: #ccc 1px solid;
        }
    </style>
{% endblock %}
{% block js %}
    <script type="text/javascript">

        $(function () {
            $("#btnAddTask").click(function () {
                $('body').append("<div class='mask'></div>");
                $('#newTask').toggle();
            });
        });

    </script>
{% endblock %}
{% block content %}
    <h1 class="page-header">
        <span>Dashboard</span>
        <input type="button" id="btnAddTask" value="add task"/>
    </h1>
    <div id="newTask">

        <form action="" method="post">
            {% csrf_token %}
            <ul>
                <li><label>TaskName:</label>{{ form.TaskName }}</li>
                <li><label>TaskType:</label>{{ form.TaskType }}
                    <label>TaskCount:</label>{{ form.TaskCount }}</li>
                <li><label>TaskState:</label>{{ form.TaskState }}
                    <label>DeviceType:</label>{{ form.DeviceType }}</li>
                <li><label>CreateWay:</label>{{ form.CreateWay }}
                    <label>IsShared:</label>{{ form.IsShared }}</li>
                <li><label>CreateTime:</label>{{ form.CreateTime }}
                    <label>UpdateTime:</label>{{ form.UpdateTime }}</li>
                <li><label>Desc:</label>{{ form.Description }}</li>
                <li><input type="submit" value="ok" onclick="closeNewTask()"></li>
            </ul>
        </form>
    </div>

    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped">
        <tr>
            <th>no</th>
            <th>TaskName</th>
            <th>TaskType</th>
            <th>TaskCount</th>
            <th>TaskState</th>
            <th>DeviceType</th>
            <th>Desc</th>
            <th>CreateTime</th>
            <th>UpdateTime</th>
            <th>CreateWay</th>
        </tr>
        {% for task in tasks %}
            <tr>
                <td>{{ task.id }}</td>
                <td>{{ task.TaskName }}</td>
                <td>{{ task.TaskType }}</td>
                <td>{{ task.TaskCount }}</td>
                <td>{{ task.TaskState }}</td>
                <td>{{ task.DeviceType }}</td>
                <td>{{ task.Desc }}</td>
                <td>{{ task.CreateTime }}</td>
                <td>{{ task.UpdateTime }}</td>
                <td>{{ task.CreateWay }}</td>
            </tr>
        {% endfor %}

    </table>
{% endblock %}